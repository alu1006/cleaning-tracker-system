<!DOCTYPE html>
<html>
<head>
    <title>Firebase æ¸¬è©¦</title>
</head>
<body>
    <h1>Firebase API Key æ¸¬è©¦</h1>
    <div id="result"></div>
    
    <!-- Firebase CDN v8 -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDpgytqeXPH-6ec1IIIs84UuDhNISO7bUc",
            authDomain: "cleaning-tracker-2025.firebaseapp.com",
            projectId: "cleaning-tracker-2025",
            storageBucket: "cleaning-tracker-2025.firebasestorage.app",
            messagingSenderId: "1031453638079",
            appId: "1:1031453638079:web:fcbcd62e827fb3f2db350a",
            measurementId: "G-HZH8C1S3C7"
        };
        
        const resultDiv = document.getElementById('result');
        
        try {
            firebase.initializeApp(firebaseConfig);
            console.log('âœ… Firebase åˆå§‹åŒ–æˆåŠŸ');
            resultDiv.innerHTML = '<p style="color: green;">âœ… Firebase åˆå§‹åŒ–æˆåŠŸ</p>';
            
            // æ¸¬è©¦ Auth æœå‹™
            const auth = firebase.auth();
            console.log('âœ… Firebase Auth æœå‹™å¯ç”¨');
            resultDiv.innerHTML += '<p style="color: green;">âœ… Firebase Auth æœå‹™å¯ç”¨</p>';
            
            // å˜—è©¦å‰µå»ºä¸€å€‹æ¸¬è©¦ç”¨æˆ¶
            resultDiv.innerHTML += '<p>ğŸ”„ æ¸¬è©¦ API Key æœ‰æ•ˆæ€§...</p>';
            
            auth.createUserWithEmailAndPassword('test-delete-me@test.com', 'password123')
                .then(() => {
                    console.log('âœ… API Key æœ‰æ•ˆï¼Œå¯ä»¥å‰µå»ºç”¨æˆ¶');
                    resultDiv.innerHTML += '<p style="color: green;">âœ… API Key æœ‰æ•ˆ</p>';
                    // ç«‹å³åˆªé™¤æ¸¬è©¦ç”¨æˆ¶
                    return auth.currentUser.delete();
                })
                .then(() => {
                    console.log('âœ… æ¸¬è©¦ç”¨æˆ¶å·²åˆªé™¤');
                    resultDiv.innerHTML += '<p style="color: blue;">âœ… æ¸¬è©¦å®Œæˆ</p>';
                })
                .catch((error) => {
                    console.error('âŒ API Key æ¸¬è©¦å¤±æ•—:', error);
                    resultDiv.innerHTML += '<p style="color: red;">âŒ API Key ç„¡æ•ˆ: ' + error.message + '</p>';
                });
                
        } catch (error) {
            console.error('âŒ Firebase åˆå§‹åŒ–å¤±æ•—:', error);
            resultDiv.innerHTML = '<p style="color: red;">âŒ Firebase åˆå§‹åŒ–å¤±æ•—: ' + error.message + '</p>';
        }
    </script>
</body>
</html>