# 🧹 打掃追蹤系統

一個現代化的雲端打掃管理系統，專為教育機構設計，整合 Firebase 雲端服務，提供完整的學生打掃任務追蹤功能。

## ✨ 系統特色

### 🔐 智能登入系統
- **雲端驗證**：使用 Firebase Authentication 提供安全的使用者驗證
- **角色管理**：自動識別管理員和一般使用者權限
- **智能跳轉**：根據使用者資料狀態自動導向適當頁面
- **多使用者支援**：每個使用者擁有獨立的資料空間

### 📊 Excel 資料匯入
- **多檔案支援**：同時匯入打掃名單和學生名單
- **多分頁處理**：自動讀取 Excel 的所有工作表（如 B1-2F、3-5F）
- **欄位標準化**：智能識別不同的欄位名稱（詳細/詳細位置等）
- **即時預覽**：匯入後立即顯示資料內容供確認

### ✏️ 手動資料編輯
- **即時編輯**：直接在表格中修改打掃事項和學生資料
- **新增功能**：手動添加新的打掃任務或學生
- **複製功能**：快速複製現有資料
- **刪除功能**：移除不需要的項目
- **批量操作**：支援大量資料的編輯管理

### 🎯 智能任務分配
- **防重複分配**：已分配的學生自動標示為不可用
- **人數管控**：即時顯示每項任務的人數狀態
- **多選支援**：支援 Shift/Ctrl 快捷鍵進行多選操作
- **視覺化狀態**：用顏色區分完美、部分、超額分配

### 📈 每日追蹤介面
- **週次導航**：輕鬆切換不同週次查看記錄
- **網格布局**：清晰的日期與任務對照表格
- **點擊操作**：點擊切換 空白 → 🏅優點 → 😈缺失 → 空白
- **自動警示**：三次缺失自動標註警告
- **即時統計**：動態顯示個人和整體表現數據

### ☁️ 雲端同步功能
- **自動儲存**：每次操作自動同步到 Firebase 雲端
- **多裝置存取**：手機、平板、電腦都能使用
- **即時更新**：多人協作時資料即時同步
- **永久保存**：雲端資料永不遺失

## 🚀 快速開始

### 1. 🔐 首次登入
1. 開啟 `index.html`
2. 點擊「註冊新帳號」建立帳號
3. 使用包含 "admin" 的信箱成為管理員
4. 輸入密碼完成註冊

### 2. 📋 匯入資料
1. 系統自動跳轉到匯入頁面
2. 上傳「打掃名單.xlsx」檔案
3. 上傳「學生名單.xlsx」檔案
4. 預覽確認匯入的資料內容

### 3. ✏️ 編輯資料（可選）
- 點擊「➕ 新增」按鈕添加項目
- 直接在表格中修改內容
- 使用「📋」按鈕複製項目
- 使用「🗑️」按鈕刪除項目

### 4. 🎯 分配任務
1. 在分配區域選擇學生
2. 為每個打掃事項分配適當人數
3. 檢查人數是否符合需求
4. 點擊「💾 儲存分配」

### 5. 📊 開始追蹤
1. 點擊「📊 開始追蹤」進入追蹤頁面
2. 使用週次導航選擇日期範圍
3. 點擊表格記錄每日表現
4. 查看統計資料和警告提醒

## 🏗️ 系統架構

### 前端技術
- **HTML5**：語義化網頁結構
- **CSS3**：響應式設計與動畫效果
- **JavaScript ES6+**：現代化互動功能
- **SheetJS**：Excel 檔案處理

### 後端服務
- **Firebase Authentication**：使用者驗證系統
- **Firebase Firestore**：NoSQL 雲端資料庫
- **Firebase SDK**：完整雲端服務整合

### 資料結構
```javascript
// 使用者資料
/userData/{userId}
├── cleaningTasks: []     // 打掃事項列表
├── students: []          // 學生名單
├── assignments: {}       // 任務分配關係
└── lastUpdate: timestamp // 最後更新時間

// 追蹤記錄
/trackingData/{userId}
├── "taskIndex-studentKey-date": "merit|demerit"
└── ...
```

## 👥 權限管理

### 🔑 管理員權限
- 查看所有使用者的資料
- 編輯任何使用者的追蹤記錄
- 存取系統統計和分析功能
- 管理整體系統設定

### 👤 一般使用者權限
- 查看和編輯自己的資料
- 匯入和分配自己的打掃任務
- 追蹤自己負責的學生表現
- 無法存取其他使用者資料

## 🎯 使用場景

### 🏫 學校行政管理
- **班級管理**：各班導師管理本班打掃事務
- **學務管理**：學務處統一監督全校打掃狀況
- **績效評估**：量化學生表現提供獎懲依據

### 👨‍🏫 教師日常使用
- **省時高效**：自動化記錄取代手工登記
- **數據清晰**：視覺化報表一目了然
- **即時更新**：隨時隨地查看和更新

### 👨‍🎓 學生激勵機制
- **公平透明**：客觀記錄每個人的表現
- **即時回饋**：立即看到自己的努力成果
- **目標導向**：明確知道改進方向

## 📱 跨平台支援

### 💻 桌面設備
- Windows、macOS、Linux 全平台支援
- 現代瀏覽器（Chrome、Firefox、Safari、Edge）
- 鍵盤快捷鍵和滑鼠操作優化

### 📱 行動裝置
- iOS Safari、Android Chrome 完美支援
- 響應式設計適應各種螢幕尺寸
- 觸控優化的使用者介面

### 🌐 網路需求
- **線上模式**：需要網路連線進行雲端同步
- **離線模式**：瀏覽器快取支援基本操作
- **低頻寬友善**：優化資料傳輸減少流量

## 🛠️ 技術特點

### ⚡ 效能優化
- 按需載入減少初始載入時間
- 本地快取提升響應速度
- 批量操作減少網路請求

### 🛡️ 安全保護
- Firebase 企業級安全架構
- 使用者資料完全隔離
- 前端參數驗證防止注入攻擊

### 🔄 資料同步
- 自動衝突解決機制
- 增量同步節省頻寬
- 離線操作排隊上傳

## 📞 技術支援

### 🐛 常見問題
- **無法登入**：檢查 Firebase Authentication 設定
- **資料無法儲存**：確認 Firestore 安全規則
- **Excel 匯入失敗**：檢查檔案格式和欄位

### 🔧 故障排除
- 開啟瀏覽器開發者工具查看錯誤訊息
- 檢查網路連線狀態
- 清除瀏覽器快取重新整理

---

## 🎉 開始使用

立即開啟 `index.html` 開始體驗這個現代化的打掃追蹤系統！

**讓管理變簡單，讓數據說話，讓教育更有效率！** ✨