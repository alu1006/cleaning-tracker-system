# ğŸ”¥ Firebase è¨­å®šæŒ‡å—

## ç³»çµ±å·²æ•´åˆ Firebaseï¼

ä½ çš„æ‰“æƒè¿½è¹¤ç³»çµ±ç¾åœ¨å·²ç¶“å®Œå…¨æ•´åˆ Firebaseï¼Œå…·å‚™ä»¥ä¸‹åŠŸèƒ½ï¼š

### âœ¨ æ–°åŠŸèƒ½
- ğŸ” **é›²ç«¯ä½¿ç”¨è€…é©—è­‰** - Firebase Authentication
- â˜ï¸ **é›²ç«¯è³‡æ–™å„²å­˜** - Firebase Firestore
- ğŸ”„ **å³æ™‚åŒæ­¥** - å¤šè£ç½®è³‡æ–™åŒæ­¥
- ğŸ‘¥ **å¤šä½¿ç”¨è€…ç®¡ç†** - ç®¡ç†å“¡å¯æŸ¥çœ‹æ‰€æœ‰ä½¿ç”¨è€…

---

## ğŸš€ ä½¿ç”¨æ­¥é©Ÿ

### 1. ğŸš¨ **ç«‹å³ä¿®å¾©éŒ¯èª¤**

ä½ é‡åˆ°çš„éŒ¯èª¤ `Firebase: Error (auth/configuration-not-found)` è¡¨ç¤º **Firebase Authentication å°šæœªå•Ÿç”¨**ã€‚

#### ğŸ“‹ **å¿…é ˆåŸ·è¡Œçš„æ­¥é©Ÿ**ï¼š

##### Step 1: å•Ÿç”¨ Authentication
1. å‰å¾€ https://console.firebase.google.com
2. é¸æ“‡å°ˆæ¡ˆ `cleaning-tracker-2025`
3. å·¦å´é¸å–®é»æ“Š **ã€ŒAuthenticationã€**
4. é»æ“Šå¤§å¤§çš„ **ã€Œé–‹å§‹ä½¿ç”¨ã€** æŒ‰éˆ•
5. åˆ‡æ›åˆ° **ã€ŒSign-in methodã€** åˆ†é 
6. æ‰¾åˆ° **ã€ŒEmail/Passwordã€** é …ç›®
7. é»æ“Šå³å´çš„ç·¨è¼¯åœ–ç¤º (ç­†çš„åœ–ç¤º)
8. **å•Ÿç”¨**ç¬¬ä¸€å€‹é¸é … ã€ŒEmail/Passwordã€
9. é»æ“Š **ã€Œå„²å­˜ã€**

##### Step 2: å•Ÿç”¨ Firestore Database  
1. å·¦å´é¸å–®é»æ“Š **ã€ŒFirestore Databaseã€**
2. é»æ“Š **ã€Œå»ºç«‹è³‡æ–™åº«ã€**
3. é¸æ“‡ **ã€Œä»¥æ¸¬è©¦æ¨¡å¼å•Ÿå‹•ã€**
4. é¸æ“‡ä½ç½®ï¼š**asia-east1 (Taiwan)**
5. é»æ“Š **ã€Œå®Œæˆã€**

### 2. è¨­å®šå®‰å…¨è¦å‰‡
åœ¨ Firestore Database â†’ è¦å‰‡ï¼Œè²¼ä¸Šä»¥ä¸‹è¦å‰‡ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ä½¿ç”¨è€…åªèƒ½å­˜å–è‡ªå·±çš„è³‡æ–™
    match /userData/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    match /trackingData/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    // ä½¿ç”¨è€…è³‡è¨Šï¼šå¯è®€å–ï¼Œåƒ…èƒ½ä¿®æ”¹è‡ªå·±çš„
    match /users/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

### 3. å»ºç«‹ä½¿ç”¨è€…å¸³è™Ÿ
1. é–‹å•Ÿ `login.html`
2. é»æ“Šã€Œè¨»å†Šæ–°å¸³è™Ÿã€
3. è¼¸å…¥é›»å­ä¿¡ç®±å’Œå¯†ç¢¼
4. **å»ºè­°çš„ç®¡ç†å“¡å¸³è™Ÿ**ï¼š
   - Email: admin@yourdomain.com
   - Password: ä½ çš„å®‰å…¨å¯†ç¢¼

---

## ğŸ“Š è³‡æ–™çµæ§‹

### Firestore é›†åˆçµæ§‹ï¼š
```
/users/{userId}
â”œâ”€â”€ email: "user@example.com"
â”œâ”€â”€ role: "admin" | "user"  
â”œâ”€â”€ name: "ä½¿ç”¨è€…åç¨±"
â””â”€â”€ createdAt: timestamp

/userData/{userId}
â”œâ”€â”€ cleaningTasks: [...]     // æ‰“æƒäº‹é …
â”œâ”€â”€ students: [...]          // å­¸ç”Ÿåå–®
â”œâ”€â”€ assignments: {...}       // ä»»å‹™åˆ†é…
â””â”€â”€ lastUpdate: timestamp

/trackingData/{userId}
â”œâ”€â”€ "taskIndex-studentName-date": "merit|demerit"
â””â”€â”€ ...
```

---

## ğŸ¯ åŠŸèƒ½ç‰¹è‰²

### ğŸ” é©—è­‰ç³»çµ±
- Email/å¯†ç¢¼ç™»å…¥è¨»å†Š
- è‡ªå‹•è§’è‰²æª¢æ¸¬ï¼ˆemailå«"admin"â†’ç®¡ç†å“¡ï¼‰
- å®‰å…¨çš„ç™»å‡ºæ©Ÿåˆ¶

### â˜ï¸ é›²ç«¯åŒæ­¥
- è³‡æ–™è‡ªå‹•åŒæ­¥åˆ° Firebase
- å¤šè£ç½®å­˜å–ç›¸åŒè³‡æ–™
- å³æ™‚æ›´æ–°ï¼ˆæœªä¾†å¯æ“´å±•ï¼‰

### ğŸ‘¨â€ğŸ’¼ ç®¡ç†å“¡åŠŸèƒ½
- æŸ¥çœ‹æ‰€æœ‰ä½¿ç”¨è€…çš„è¿½è¹¤è³‡æ–™
- çµ±ä¸€ç®¡ç†æ¬Šé™
- ç³»çµ±æ•´é«”ç›£æ§

---

## âš ï¸ æ³¨æ„äº‹é …

1. **ç¶²è·¯é€£ç·š**ï¼šéœ€è¦ç¶²è·¯æ‰èƒ½åŒæ­¥è³‡æ–™
2. **å¸³è™Ÿå®‰å…¨**ï¼šè«‹ä½¿ç”¨å¼·å¯†ç¢¼
3. **è³‡æ–™å‚™ä»½**ï¼šFirebase è‡ªå‹•å‚™ä»½ï¼Œä½†å»ºè­°å®šæœŸåŒ¯å‡º
4. **æˆæœ¬æ§åˆ¶**ï¼šæ³¨æ„ Firebase ç”¨é‡é™åˆ¶

---

## ğŸ†˜ å¸¸è¦‹å•é¡Œ

### Q: ç„¡æ³•è¨»å†Š/ç™»å…¥ï¼Ÿ
A: æª¢æŸ¥ Firebase Authentication æ˜¯å¦å•Ÿç”¨ Email/Password

### Q: è³‡æ–™ç„¡æ³•å„²å­˜ï¼Ÿ
A: æª¢æŸ¥ Firestore å®‰å…¨è¦å‰‡æ˜¯å¦æ­£ç¢ºè¨­å®š

### Q: æ‰¾ä¸åˆ°å…¶ä»–ä½¿ç”¨è€…ï¼Ÿ
A: ç¢ºèªä½ æœ‰ç®¡ç†å“¡æ¬Šé™ï¼ˆemail åŒ…å« "admin"ï¼‰

---

## ğŸ‰ äº«å—ä½ çš„é›²ç«¯æ‰“æƒè¿½è¹¤ç³»çµ±ï¼

ç¾åœ¨ä½ å¯ä»¥ï¼š
- ğŸ“± ç”¨æ‰‹æ©Ÿã€é›»è…¦éš¨æ™‚å­˜å–
- ğŸ‘¥ å¤šäººå”ä½œç®¡ç†
- ğŸ“Š é›²ç«¯è³‡æ–™æ°¸ä¸éºå¤±
- ğŸš€ éš¨æ™‚éš¨åœ°è¿½è¹¤æ‰“æƒç‹€æ³